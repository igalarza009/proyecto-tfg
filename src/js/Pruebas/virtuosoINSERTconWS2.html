<!DOCTYPE html>
<html>
<head>    
    <title>Prueba insertar triple en Virtuoso a través del WS</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" charset="utf-8" />
    <link href="SPARQL-with-DropDown/themes/bootstrap.min.css" rel="stylesheet">
    <link href="SPARQL-with-DropDown/themes/ej.widgets.core.min.css" rel="stylesheet" />
    <link href="SPARQL-with-DropDown/themes/ej.theme.min.css" rel="stylesheet" />
    <link href="SPARQL-with-DropDown/themes/default.css" rel="stylesheet" />
    <link href="SPARQL-with-DropDown/themes/default-responsive.css" rel="stylesheet" />
    <script src="SPARQL-with-DropDown/scripts/jquery-1.10.2.min.js" type="text/javascript"></script>
    <script src="SPARQL-with-DropDown/scripts/jquery.easing-1.3.min.js" type="text/javascript"></script>
    <script src="SPARQL-with-DropDown/scripts/jquery.sparql.js"></script>
    <script src="SPARQL-with-DropDown/scripts/encode.js"></script>
    <script src="SPARQL-with-DropDown/scripts/ej.web.all.min.js" type="text/javascript"></script>  
</head>
<body>

    <div class="content-container-fluid">
        <div class="row">
            <div class="cols-sample-area">
                <div class="frame">
                    <div class="control">
                        <div class="ctrllabel">Graph</div>
                        <input type="text" id="graph" />
                    </div>                
                    <div class="control">
                        <div class="ctrllabel">Subject</div>
                        <input type="text" id="subject" />
                    </div>
                    <div class="control">
                        <div class="ctrllabel">Property</div>
                        <input type="text" id="property" />
                    </div>
                    <div class="control">
                        <div class="ctrllabel">Object</div>
                        <input type="text" id="object" />
                    </div>
                    <div id="btn">                  
               		<button id="clickBtn">Insert</button>
                    </div>
		</div>
            </div>
        </div>
    </div>
<p id="respuesta"></p>


<script>


$(function (){

	function insertar(query,baseURL){

		var queryURL=baseURL + '?query=' + encodeURIComponent(query);
		alert(queryURL);

		if (window.XMLHttpRequest) {
  			xmlhttp=new XMLHttpRequest();
  		}
  		else {
  			xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
  		}
  		xmlhttp.open("GET",queryURL,false);
		alert("enviando...");
  		xmlhttp.send();
		alert("enviado");
		return JSON.parse(xmlhttp.responseText);
		};
	$("#clickBtn").click(function (e) {
		var query="INSERT DATA {graph <"+graph.value+"> {<"+subject.value+"> <"+property.value+"> "+object.value+" .}}";
		alert(query); 
		insertar(query, "http://localhost:8080/VirtuosoPrueba03/rest/extrusion/insert");
                });
});

</script>

</body>
</html>
